setup () 
{ 
    source ../../funcs/defun.bash;
    function __foo_tmpl () 
    { 
        echo NAME;
        echo AGE;
        echo ADDR;
        echo PHONE;
        echo EMAIL
    }
}
test__defun___success () 
{ 
    local ret;
    echo "@@@ マクロ展開アリ";
    do_test_t defun foo __foo_tmpl \
	    NAME "Shigeo NISHIDA" \
	    AGE 51 \
	    ADDR "Kochi, Japab" \
	    PHONE "090-1234-5678" \
	    EMAIL "shigeo.nsd@gmail.com" || return $(failure);
    do_test_t declare -f foo || return $(failure);
    do_test_t foo || return $(failure);

    echo "@@@ マクロ展開ナシ";
    do_test_t defun bar __foo_tmpl || return $(failure);
    do_test_t declare -f bar || return $(failure);
    do_test_t bar || return $(failure);
    : テスト成功;
    return $(success)
}
test__defun___error () 
{
    : テスト成功;
    return $(skipped)
}
teardown () 
{ 
    :
}
